<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <title>LousaAI ‚Äî Mobile</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="theme-dark">
  <div id="bubbles" aria-hidden="true"></div>

  <header class="topbar">
    <div class="brand">
      <div class="logo">LA</div>
      <div>
        <div class="brand-title">LousaAI</div>
        <div class="brand-subtitle" id="dateDisplay"></div>
      </div>
    </div>
    <div class="topbar-actions">
      <button id="themeToggle" class="btn pill small">Tema: Escuro</button>
      <button id="loginBtn" class="btn pill small solid">Login</button>
    </div>
  </header>

  <main id="book" class="main">
    <!-- In√≠cio -->
    <section id="homeView" class="view active" aria-labelledby="tabHome">
      <div class="grid-widgets" data-stagger>
        <article class="card">
          <div class="card-head">
            <h2>Evento de hoje</h2>
            <button class="chip">Calend√°rio</button>
          </div>
          <div class="event">
            <div class="event-title"><strong id="eventTitle">19 SET ‚Äî Reuni√£o pedag√≥gica</strong></div>
            <div class="event-time">15:00 ‚Ä¢ Sala multim√≠dia</div>
            <div class="event-meta">Dura√ß√£o <span>1h</span> ‚Ä¢ <span>Traga di√°rio</span></div>
          </div>
          <div class="card-actions">
            <button class="btn outline" id="seeEvent">Ver detalhes</button>
            <button class="btn solid" id="addReminder">Adicionar lembrete</button>
          </div>
        </article>

        <article class="card">
          <div class="card-head">
            <h2>Checklist r√°pido</h2>
            <button class="chip" id="quickToday">Hoje</button>
          </div>
          <div class="checklist">
            <div class="input-row">
              <input id="todoInput" type="text" placeholder="Adicionar item..." />
              <button id="addTodo" class="btn solid">Adicionar</button>
            </div>
            <ul id="todoList" class="list"></ul>
          </div>
        </article>

        <article class="card">
          <div class="card-head">
            <h2>Notas r√°pidas</h2>
            <div class="tools">
              <button id="saveNotes" class="btn small outline">Salvar</button>
              <button id="clearNotes" class="btn small outline danger">Excluir</button>
            </div>
          </div>
          <textarea id="quickNotes" class="notes" placeholder="Escreva algo..."></textarea>
        </article>

        <article class="card span-3">
          <div class="card-head">
            <h2>Registro de presen√ßa</h2>
            <button class="chip" id="presenceToday">Hoje</button>
          </div>
          <p id="presenceInfo" class="muted">Carregando turmas...</p>
          <div id="presenceClasses" class="presence"></div>
          <div class="cal-wrap">
            <div class="cal-head">
              <button id="calPrev" class="icon-btn">‚Äπ</button>
              <div id="calLabel" class="cal-label"></div>
              <button id="calNext" class="icon-btn">‚Ä∫</button>
            </div>
            <div id="calendar" class="calendar"></div>
          </div>
        </article>
      </div>
    </section>

    <!-- Turmas -->
    <section id="turmasView" class="view" aria-labelledby="tabTurmas">
      <div class="split">
        <aside class="sidebar">
          <div class="sidebar-head">
            <h3>Turmas</h3>
            <input id="classSearch" type="search" placeholder="Pesquisar..." />
          </div>
          <ul id="classList" class="nav-list"></ul>
        </aside>

        <section class="content">
          <div id="classEmpty" class="placeholder">
            <h3>Selecione uma turma</h3>
            <p>Veja os alunos e abra o boletim de cada um.</p>
          </div>

          <div id="classDetails" class="class-details hidden">
            <div class="class-header">
              <h2 id="classTitle">Turma</h2>
              <span id="classInfo" class="muted"></span>
            </div>

            <div class="students">
              <ul id="studentList" class="grid-cards"></ul>
            </div>
          </div>
        </section>
      </div>

      <dialog id="studentModal">
        <form method="dialog" class="modal">
          <div class="modal-head">
            <h3 id="studentName">Aluno</h3>
            <button class="icon-btn" value="close">‚úï</button>
          </div>
          <div class="modal-body">
            <div class="student-meta" id="studentMeta"></div>
            <table class="table" id="gradesTable">
              <thead>
                <tr><th>Mat√©ria</th><th>Nota 1</th><th>Nota 2</th><th>M√©dia</th></tr>
              </thead>
              <tbody></tbody>
            </table>
            <div class="student-footer">
              <div><strong>M√©dia geral:</strong> <span id="studentAvg"></span></div>
              <div><strong>Situa√ß√£o:</strong> <span id="studentStatus" class="status"></span></div>
            </div>
          </div>
        </form>
      </dialog>
    </section>

    <!-- Classroom -->
    <section id="classroomView" class="view" aria-labelledby="tabClassroom">
      <div class="split">
        <aside class="sidebar">
          <div class="sidebar-head">
            <h3>Professores</h3>
            <input id="teacherSearch" type="search" placeholder="Pesquisar..." />
          </div>
          <ul id="teacherList" class="nav-list"></ul>
        </aside>

        <section class="content">
          <div id="teacherEmpty" class="placeholder">
            <h3>Selecione um professor</h3>
            <p>Abra um chat, envie mensagens e anexos.</p>
          </div>

          <div id="teacherChat" class="chat hidden" data-scope="teacher">
            <header class="chat-head">
              <div class="avatar" id="teacherAvatar"></div>
              <div>
                <div class="chat-title" id="teacherName">Professor</div>
                <div class="muted" id="teacherSubject">Mat√©ria</div>
              </div>
            </header>

            <div id="teacherMessages" class="messages"></div>

            <footer class="chat-input">
              <label class="attach" title="Anexar">
                üìé
                <input id="teacherFile" type="file" multiple />
              </label>
              <input id="teacherText" type="text" autocomplete="off" placeholder="Escreva..." />
              <button id="teacherSend" class="btn solid">Enviar</button>
            </footer>
          </div>
        </section>
      </div>
    </section>

    <!-- Chat IA -->
    <section id="chatIaView" class="view" aria-labelledby="tabChat">
      <div class="split">
        <aside class="sidebar">
          <div class="sidebar-head">
            <h3>Conversas</h3>
            <button id="newIaChat" class="btn solid small full">Novo chat</button>
          </div>
          <ul id="iaThreadList" class="nav-list"></ul>
        </aside>

        <section class="content">
          <div id="iaEmpty" class="placeholder">
            <h3>Nenhum chat selecionado</h3>
            <p>Crie um novo chat ou selecione na lista.</p>
          </div>

          <div id="iaChat" class="chat hidden" data-scope="ia">
            <header class="chat-head">
              <div class="avatar bot">IA</div>
              <div>
                <div class="chat-title" id="iaTitle">LousaAI</div>
                <div class="muted">Assistente escolar</div>
              </div>
            </header>

            <div id="iaMessages" class="messages"></div>

            <footer class="chat-input">
              <input id="iaText" type="text" autocomplete="off" placeholder="Pergunte algo..." />
              <button id="iaSend" class="btn solid">Enviar</button>
            </footer>
          </div>
        </section>
      </div>
    </section>
  </main>

  <nav class="navbar">
    <button id="tabHome" class="nav-btn active" data-target="homeView">In√≠cio</button>
    <button id="tabTurmas" class="nav-btn" data-target="turmasView">Turmas</button>
    <button id="tabClassroom" class="nav-btn" data-target="classroomView">Classroom</button>
    <button id="tabChat" class="nav-btn" data-target="chatIaView">Chat IA</button>
  </nav>

  <!-- Modais utilit√°rios -->
  <dialog id="loginModal">
    <form method="dialog" class="modal modal-auth">
      <div class="modal-head">
        <h3>Entrar</h3>
        <button class="icon-btn" value="close">‚úï</button>
      </div>
      <div class="modal-body">
        <label class="field"><span>E-mail</span><input id="authEmail" type="email" placeholder="seu@email.com" required /></label>
        <label class="field"><span>Senha</span><input id="authPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required /></label>
        <div class="auth-actions">
          <button id="skipLogin" class="btn outline" value="close" type="button">Pular login</button>
          <button id="doLogin" class="btn solid" type="submit" value="login">Entrar</button>
        </div>
        <p class="muted tiny">MVP visual ‚Äî pode pular o login.</p>
      </div>
    </form>
  </dialog>

  <dialog id="infoModal">
    <form method="dialog" class="modal">
      <div class="modal-head">
        <h3>Detalhes</h3>
        <button class="icon-btn" value="close">‚úï</button>
      </div>
      <div id="infoBody" class="modal-body"></div>
    </form>
  </dialog>

  <dialog id="newChatModal">
    <form method="dialog" class="modal">
      <div class="modal-head">
        <h3>Novo chat</h3>
        <button class="icon-btn" value="close">‚úï</button>
      </div>
      <div class="modal-body">
        <label class="field"><span>Nome do chat</span><input id="newChatName" type="text" placeholder="Ex.: D√∫vidas de Matem√°tica" /></label>
        <div class="auth-actions">
          <button id="cancelNewChat" class="btn outline" value="close" type="button">Cancelar</button>
          <button id="confirmNewChat" class="btn solid" type="submit" value="ok">Criar</button>
        </div>
      </div>
    </form>
  </dialog>

  <dialog id="attendanceModal">
    <form method="dialog" class="modal modal-auth">
      <div class="modal-head">
        <h3 id="attDateLabel">Presen√ßas</h3>
        <button class="icon-btn" value="close">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="field"><span>Turma</span><select id="attClass" class="input"></select></div>
        <div class="att-toolbar">
          <button id="attMarkAll" class="btn small outline" type="button">Marcar todos</button>
          <button id="attClearAll" class="btn small outline" type="button">Limpar</button>
          <div class="muted tiny" id="attSummary"></div>
        </div>
        <ul id="attList" class="att-list"></ul>
        <div class="auth-actions">
          <button id="attCancel" class="btn outline" type="button">Fechar</button>
          <button id="attSave" class="btn solid" type="submit" value="ok">Salvar</button>
        </div>
      </div>
    </form>
  </dialog>

  <script src="script.js" defer></script>
</body>
</html>
